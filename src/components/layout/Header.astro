---
import LanguageToggle from './LanguageToggle';
import { getLocaleAndTranslations } from '../../utils/i18n';
import ThemeToggle from '../toggle/ThemeToggle.astro';

const currentPath = Astro.url.pathname;
const locale = Astro.currentLocale || 'es';
const { t } = getLocaleAndTranslations(locale);

// Crear prefijo de idioma para las URLs
const localePrefix = locale === 'es' ? '/es' : '/en';

// Actualizar las rutas con el prefijo de idioma
const navItems = [
  { label: t('nav.home'), path: `${localePrefix}/` },
  { label: t('nav.apiPricing'), path: `${localePrefix}/api-pricing` },
  { label: t('nav.individualPricing'), path: `${localePrefix}/individual-pricing` },
  { label: t('nav.codeEditors'), path: `${localePrefix}/code-editors` }
];

const isCurrentPath = (itemPath: string) => {
  return currentPath === itemPath;
};
---
<header class="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
  <div class="flex h-16 px-4 lg:px-16 2xl:px-42 items-center justify-between lg:justify-between">
    <div class="font-bold text-2xl bg-gradient-to-r from-primary to-purple-600 bg-clip-text text-transparent">
      
      <a href=`/`>AI Pricing Hub</a>
    </div>
    <div class="flex items-center gap-4">
      <ThemeToggle />
      <LanguageToggle client:only="react" currentLocale={locale as 'en' | 'es'} />
    </div>
  </div>
</header>